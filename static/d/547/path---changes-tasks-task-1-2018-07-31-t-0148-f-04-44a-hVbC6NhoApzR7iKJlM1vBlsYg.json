{"data":{"markdownRemark":{"html":"<p>added plan step-1 to step-4</p>\n<pre><code class=\"language-diff\">@@ -0,0 +1,198 @@\n+---\n+title: \"Create a documentation site to record changes to the site\"\n+date: \"2018-07-31\"\n+request: \"request-1\"\n+status: \"in-progress\"\n+---\n+## Plan\n+\n+1. create @litlog/litlog-cli to automate the documentation of changes (undocumented).\n+```bash\n+mkdir gatsby-starter-litlog\n+cd gatsby-starter-litlog\n+git init\n+mkdir packages\n+cp -R ../gatsby-starter-litlog-1/packages/litlog-cli/ packages/\n+cat &#x3C;&#x3C; EOF > .gitignore\n+node_modules\n+packages/*/lib\n+EOF\n+cd packages/litlog-cli/\n+npm link\n+git add .\n+git commit -m \"litlog-cli v0.0.11\"\n+```\n+1. create new [Gatsby](https://next.gatsbyjs.org/) site from [the default starter](https://github.com/gatsbyjs/gatsby-starter-default/tree/v2)\n+```bash\n+# already have npm and git installed\n+# run in a bash terminal\n+npm install --global gatsby-cli\n+# or npm update --global gatsby-cli\n+gatsby_new_timestamp=$(date +%Y-%m-%dT%H%M)\n+cd ..\n+gatsby new gatsby-starter-temp https://github.com/gatsbyjs/gatsby-starter-default#v2\n+echo $gatsby_new_timestamp\n+# 2018-07-30T0923\n+cd gatsby-starter-litlog\n+rm -r ../gatsby-starter-temp/node_modules\n+# node_modules/\n+# packages/*/lib\n+cp -R ../gatsby-starter-temp/* .\n+cp ../gatsby-starter-temp/.gitignore .\n+cp ../gatsby-starter-temp/.prettierrc .\n+npm install\n+gatsby develop\n+# update .gitignore for packages\n+cat &#x3C;&#x3C; EOF >> .gitignore\n+\n+# Built source for packages\n+packages/*/lib\n+EOF\n+# move everything except .gitignore to site folder\n+# .gitignore\n+# .prettierrc\n+# LICENSE\n+# README.md\n+# gatsby-browser.js\n+# gatsby-config.js\n+# gatsby-node.js\n+# gatsby-ssr.js\n+# package.json\n+# package-lock.json\n+# src/components/header.js\n+# src/components/layout.css\n+# src/components/layout.js\n+# src/pages/404.js\n+# src/pages/index.js\n+# src/pages/page-2.js\n+export LITLOG_SITE=site-1\n+# incorporate into 'litlog init' command\n+mkdir sites/\n+mkdir sites/$LITLOG_SITE/\n+mkdir sites/$LITLOG_SITE/files\n+mkdir sites/$LITLOG_SITE/files/src\n+mkdir sites/$LITLOG_SITE/files/src/components\n+mkdir sites/$LITLOG_SITE/files/src/pages\n+#\n+mv .prettierrc sites/$LITLOG_SITE/files\n+mv LICENSE sites/$LITLOG_SITE/files\n+mv README.md sites/$LITLOG_SITE/files\n+mv gatsby-browser.js sites/$LITLOG_SITE/files\n+mv gatsby-config.js sites/$LITLOG_SITE/files\n+mv gatsby-node.js sites/$LITLOG_SITE/files\n+mv gatsby-ssr.js sites/$LITLOG_SITE/files\n+mv package-lock.json sites/$LITLOG_SITE/files\n+mv package.json sites/$LITLOG_SITE/files\n+mv src/components/header.js sites/$LITLOG_SITE/files/src/components/\n+mv src/components/layout.css sites/$LITLOG_SITE/files/src/components/\n+mv src/components/layout.js sites/$LITLOG_SITE/files/src/components/\n+mv src/pages/404.js sites/$LITLOG_SITE/files/src/pages\n+mv src/pages/index.js sites/$LITLOG_SITE/files/src/pages\n+mv src/pages/page-2.js sites/$LITLOG_SITE/files/src/pages\n+# put into changes\n+export gatsby_new_timestamp=2018-07-30T0923\n+litlog created files/.prettierrc \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/LICENSE \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/README.md \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+# I'm leaving out package-lock.json because it's automatically generated.\n+litlog created files/gatsby-browser.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/gatsby-config.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/gatsby-node.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/gatsby-ssr.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/package.json \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/components/header.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/components/layout.css \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/components/layout.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/pages/404.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/pages/index.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+litlog created files/src/pages/page-2.js \"Ran 'gatsby new $LITLOG_SITE https://github.com/gatsbyjs/gatsby-starter-default#v2'\" $gatsby_new_timestamp\n+# commit changes\n+git add .\n+git commit -m \"initial setup from gatsby-starter-default#v2\"\n+#\n+# modify .gitignore\n+cat &#x3C;&#x3C; EOF >> .gitignore\n+\n+# Site files\n+/*\n+!LICENSE\n+!README.md\n+!sites\n+EOF\n+#\n+# when files copied manually gatsby develop runs OK\n+# try copyfiles plus onchange\n+cp sites/$LITLOG_SITE/files/package.json .\n+npm install --save-dev copyfiles\n+npm install --save-dev onchange\n+npm install --save-dev cross-var\n+npm install --save-dev npm-run-parallel\n+npm install --save-dev gh-pages\n+npm install copyfiles -g\n+# modify scripts section of packages.json\n+cp package.json sites/$LITLOG_SITE/files/\n+cp package-lock.json sites/$LITLOG_SITE/files/\n+# make sure development site runs\n+npm run site-develop\n+# make sure site builds\n+npm run build\n+git add .gitignore\n+git add sites\n+git commit -m \"set up for site files\"\n+git remote add origin https://github.com/litlog/gatsby-starter-litlog.git\n+git push -u origin master\n+```\n+1. update *pathPrefix* in *gatsby-config.js*.\n+```bash\n+npm run site-develop #in a different terminal\n+litlog updating files/gatsby-config.js\n+# edit file\n+git apply &#x3C;&#x3C; EOF\n+>--- a/sites/site-1/files/gatsby-config.js\n+>+++ b/sites/site-1/files/gatsby-config.js\n+>@@ -1,6 +1,7 @@\n+> module.exports = {\n+>   siteMetadata: {\n+>-    title: 'Gatsby Default Starter',\n+>+    title: 'Gatsby Litlog Starter',\n+>   },\n+>   plugins: ['gatsby-plugin-react-helmet'],\n+>+  pathPrefix: '/gatsby-starter-litlog'\n+> }\n+EOF\n+# note the > above which is not part of the actual command but included\n+# because there's an issue rendering diff syntax\n+litlog updated files/gatsby-config.js \"added pathPrefix\"\n+litlog updating files/package.json\n+# edit file\n+git apply &#x3C;&#x3C; EOF\n+>--- a/sites/site-1/files/package.json\n+>+++ b/sites/site-1/files/package.json\n+>@@ -19,6 +19,7 @@\n+>     \"develop\": \"gatsby develop\",\n+>     \"format\": \"prettier --write '**/*.js'\",\n+>     \"test\": \"echo \\\"Error: no test specified\\\" &#x26;&#x26; exit 1\",\n+>+    \"deploy\": \"npm run site &#x26;&#x26; gatsby build --prefix-paths &#x26;&#x26; gh-pages -d public\",\n+>     \"site\": \"cross-var copyfiles --all --up 3 --exclude \\\"**/LICENSE\\\" --exclude \\\"**/README.md\\\" \\\"sites/$LITLOG_SITE/files/**/*\\\" ./\",\n+>     \"site-develop\": \"npm-run-parallel site-watch develop\",\n+>     \"site-watch\": \"cross-var onchange \\\"sites/$LITLOG_SITE/files/**/*\\\" -- npm run site\"\n+EOF\n+litlog updated files/package.json \"added deploy to scripts section\"\n+npm run build\n+npm run deploy\n+git add sites\n+git commit -m \"configured for deploy\"\n+git push origin master\n+```\n+1. create &#x3C;g-link to=\"/litlog/requests/request-1\">request-1&#x3C;/g-link>, &#x3C;g-link to=\"/litlog/tasks/task-1\">task-1&#x3C;/g-link>, and commit changes.\n+```bash\n+export LITLOG_SITE=site-1\n+litlog creating requests/request-1\n+# update request-1 with specification\n+litlog created requests/request-1 \"added specification\"\n+litlog creating tasks/task-1\n+# update task-1 with plan including setting title, request, and status\n+litlog created tasks/task-1 \"added plan step-1 to step-4\"\n+git add sites\n+git commit -m \"added request-1 spec and task-1 plan step-1 to step-4\"\n+```\n</code></pre>","frontmatter":{"title":"Create"}}},"pageContext":{"slug":"/changes/tasks/task-1/2018-07-31T0148/"}}