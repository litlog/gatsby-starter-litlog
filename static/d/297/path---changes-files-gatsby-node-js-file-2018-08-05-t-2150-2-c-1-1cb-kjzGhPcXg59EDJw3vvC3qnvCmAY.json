{"data":{"markdownRemark":{"html":"<p>following <a href=\"https://next.gatsbyjs.org/tutorial/part-seven/\">part-seven</a> of the [Gatsby.js Tutorial and <a href=\"https://github.com/greglobinski/gatsby-starter-hero-blog\">gatsby-starter-hero-blog</a>, except using <em>litlog-page.js</em> instead of <em>blog-post.js</em></p>\n<pre><code class=\"language-diff\">@@ -4,4 +4,55 @@\n  * See: https://www.gatsbyjs.org/docs/node-apis/\n  */\n \n-// You can delete this file if you're not using it\n+const path = require('path')\n+const { createFilePath } = require('gatsby-source-filesystem')\n+\n+exports.onCreateNode = ({ node, getNode, actions }) => {\n+  const { createNodeField } = actions\n+  if (node.internal.type === 'MarkdownRemark') {\n+    const slug = createFilePath({ node, getNode, basePath: 'pages' })\n+    createNodeField({\n+      node,\n+      name: 'slug',\n+      value: slug,\n+    })\n+  }\n+}\n+\n+exports.createPages = ({ graphql, actions }) => {\n+  const { createPage } = actions\n+  return new Promise((resolve, reject) => {\n+    const litlogPageTemplate = path.resolve('./src/templates/litlog-page.js');\n+    graphql(`\n+      {\n+        allMarkdownRemark(\n+          filter: { fileAbsolutePath: { regex: \"/src\\/pages\\/litlog/\" } }\n+        ) {\n+          edges {\n+            node {\n+              fileAbsolutePath\n+              fields {\n+                slug\n+              }\n+            }\n+          }\n+        }\n+      }\n+    `).then(result => {\n+      const items = result.data.allMarkdownRemark.edges;\n+      // Create litlog pages\n+      const litlogPages = items.filter(item => /src\\/pages\\/litlog/.test(item.node.fileAbsolutePath));\n+      litlogPages.forEach(({ node }) => {\n+        const slug = node.fields.slug;\n+        createPage({\n+          path: slug,\n+          component: litlogPageTemplate,\n+          context: {\n+            slug,\n+          },\n+        })\n+      })\n+      resolve()\n+    })\n+  })\n+}\n</code></pre>","frontmatter":{"title":"Update"}}},"pageContext":{"slug":"/changes/files/gatsby-node.js.file/2018-08-05T2150/"}}